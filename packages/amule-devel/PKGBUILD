pkgname=amule-devel
_realname=amule
pkgver=$(wget -q "http://amule.sourceforge.net/tarballs/tarballs.xml" -O- | awk -F "'" '/youngest/ {field = $4}; END{print field }')
pkgrel=1
pkgdesc="An eMule-like client for the eD2k and Kademlia P2P networks (development snapshot)"
arch=('i686' 'x86_64')
url="http://www.amule.org"
license=('GPL')
depends=('gd>=2.0.34' 'geoip' 'libupnp>=1.6.6' 'wxgtk>=2.8.0.1')
makedepends=('crypto++')
provides=(${_realname}=2.2.6)
conflicts=(${_realname} ${_realname}-remote ${_realname}-remote-upnp ${_realname}-remote-upnp-svn ${_realname}-upnp)
source=("http://${_realname}.sourceforge.net/tarballs/aMule-SVN-r${pkgver}.tar.bz2")

build() {
  cd ${srcdir}/aMule-SVN-r${pkgver}
  
  ./configure --prefix=/usr \
              --mandir=/usr/share/man \
              --enable-cas \
              --enable-wxcas \
              --enable-amule-daemon \
              --enable-amulecmd \
              --enable-amule-gui \
              --enable-alc \
              --enable-alcc \
              --enable-webserver \
              --disable-debug \
              --enable-optimize \
              --enable-ccache \
              --enable-geoip \
              --enable-upnp || return 1

  make || return 1
  make DESTDIR=${pkgdir} install || return 1
}

# vim:set ts=2 sw=2 et:
